<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Desant by nu7hatch</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Desant</h1>
        <p>Open source landing pages system</p>

        <p class="view"><a href="https://github.com/nu7hatch/desantapp">View the Project on GitHub <small>nu7hatch/desantapp</small></a></p>


        <ul>
          <li><a href="https://github.com/nu7hatch/desantapp/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/nu7hatch/desantapp/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/nu7hatch/desantapp">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><img src="https://dl.dropbox.com/s/jfvo6fsyzgsdaad/head.png" alt="Desant"></p>

<blockquote>
<strong>Desant</strong> /dɛsɑːnt/ is a Polish word for military landing operations aimed 
at a bringing the landing force usually via landing craft to a shore or to 
land with the purpose of power projection ashore by forces coming usually 
from ships and also aircraft and able to fight.
</blockquote>

<p><em>Desant</em> is an open source, neat landing page application. It's simple to
use, customize and extend to your needs. There's an awesome admin area
too - it will give you all the information and statistics you need.</p>

<h2>Quick start with Vagrant</h2>

<p>There's a public Vagrant box configured to run with <em>Desant</em>. You can hop
into the project qucikly by running:</p>

<pre><code>$ gem install vagrant # if not installed yet
$ vagrant up
$ vagrant ssh
vagrant@vagrant:~$ cd desant
</code></pre>

<p>Now just go and perform installation and setup steps described below.</p>

<h2>Installation and setup</h2>

<p>First of all, install all the dependencies using <em>Bundler</em>:</p>

<pre><code>$ bundle
</code></pre>

<p><em>Desant</em> uses <em>MySQL</em> as backend, so you should have this database installed 
and running. If you have it then copy <code>.env.sample</code> to <code>.env</code> - this file contains i.a. 
database configuration and admin setup:</p>

<pre><code>$ cp .env.sample .env
</code></pre>

<p>Admin area uses very simple, single user authentication. Now generate
password hash for your password:</p>

<pre><code>$ rake password_hash PASS=yoursecretpass
Your password hash: $2a$10$9r64bxHKi3wxFwKDbjZYWOj4M26xp0RM0maoGeRo0JPy6Cg5OrzBC
</code></pre>

<p>Copy generated hash and assign it to <code>ADMIN_PASSWORD_HASH</code> in <code>.env</code> file,
edit database configuration and other settings.</p>

<p>Last thing to do is to run create databases and run migrations: </p>

<pre><code>$ foreman run rake db:create
$ foreman run rake db:migrate
</code></pre>

<p>As you can se, we must use <code>foreman run</code> command from now on - it's because
all the stuff which is affected by the database requires its configuration
to be loaded. <em>Foreman</em> automatically loads configuration from the <code>.env</code>
file.</p>

<p>Now you should be able to start the application, we must use <em>Foreman</em>
here as well.</p>

<pre><code>$ foreman start
</code></pre>

<p>If everything wen fine, you should go to <code>http://localhost:5000/</code> and see
a demo landing page! Use <code>http://localhost:5000/admin/</code> to access admin
area.</p>

<p>To run RSpec unit tests use the following rake task:</p>

<pre><code>$ foreman run rake spec
</code></pre>

<p>Frontend tests (JavaScript unit tests) runs with:</p>

<pre><code>$ foreman run rake spec:jasmine
</code></pre>

<p>You can also run all the specs together:</p>

<pre><code>$ foreman run rake spec:all
</code></pre>

<p>For development purposes you can populate dummy data using following
rake task:</p>

<pre><code>$ foreman run rake db:populate
</code></pre>

<h2>Design introduction</h2>

<p><em>Desant</em> is not a Rails app, it's an experiment with full stack, single
page application in <em>Backbone.js</em> managed by <em>Sinatra</em> backend. Here's
the directory structure explained:</p>

<pre><code>apps/                   applications (components actually).

apps/*/assets/          asset pipeline files.
apps/*/assets/static/   static files.
apps/*/assets/app/      backbone application files.
apps/*/assets/libs/     javascript libraries.
apps/*/assets/styles/   stylesheet files.

apps/*/forms/           form classes.
apps/*/helpers/         application specified helpers. 
apps/*/loggers/         custom notification subscribers.
apps/*/models/          model classes.
apps/*/presenters/      application presenters.
apps/*/services/        application service classes.
apps/*/spec/            application specified test files.  
apps/*/views/           application view files.

config/                 configuration files.
db/migrate/             database migrations.
lib/                    libraries and extensions, also app's core files.
log/                    log files.
spec/                   global test files.
</code></pre>

<p>Project is booted with <code>boot.rb</code> configuration file. All the apps (components)
are routed in config.ru, with standard Rack::Router.</p>

<p>The main goal of the experiment was to provide system for easy and robust
work on <em>Backbone.js</em> application and reusable backend elements. It's also
aims to get rid of stupid Rails' assumptions that action = page, and models
are used both in forms and presentations. In <em>Desant</em>, <strong>models</strong> are separated
from <strong>forms</strong> and <strong>presenters</strong>. Model takes care about business logic, when
forms handle input and presenters output. More sophisticated operations
are handled with <strong>services</strong>. This design makes the stuff easy to test
and reuse across the projects.</p>

<h3>Coding conventions</h3>

<p>TODO...</p>

<h2>Screenshots</h2>

<p><img src="https://dl.dropbox.com/s/ss5sbn8e4hh834i/5.png" alt="Registered users"></p>

<p><img src="https://dl.dropbox.com/s/q6frhrhnrnov8q5/3.png" alt="Locations"></p>

<h2>Copyright</h2>

<p>Copyright (C) 2012 by Chris Kowalik a.k.a nu7hatch <a href="mailto:chris@nu7hat.ch">chris@nu7hat.ch</a></p>

<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.</p>

<p>You should have received a copy of the GNU Affero General Public License
along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/nu7hatch">nu7hatch</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-33582650-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>